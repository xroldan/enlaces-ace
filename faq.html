<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Preguntas Frecuentes</title>
  <link rel="stylesheet" href="styles/canales.css">
</head>
<body>
  <h1>Preguntas Frecuentes</h1>

  <div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 30px;">
    <a href="index.html" class="boton">Inicio</a>
    <a href="https://www.futbolenlatv.es/" target="_blank" class="boton">Guia eventos</a>
  </div>

  <ul id="canales-list" style="max-width: 900px; margin: 0 auto; display: block; list-style: none; padding: 0;">
    <li class="canal" style="width: auto; text-align: left;">
      <h2>¿Qué canal tengo que ver para mi evento?</h2>
      <div class="hash">
        Pulsa el botón "Guia eventos". Ahí verás para cada partido o evento los
        canales que lo retransmiten. Después, vuelve a esta página y busca ese canal
        por su nombre en el buscador.
      </div>
    </li>
    <li class="canal" style="width: auto; text-align: left;">
      <h2>¿Cómo reproduzco un enlace?</h2>
      <div class="hash">
        Puedes hacerlo de dos formas:
        <br><br>
        1) Copiar: usa el botón "Copiar" para copiar el enlace y pégalo en acestream.
        <br>
        2) Reproducir: pulsa "Reproducir" y elige AceStream o VLC.
        <br><br>
        - AceStream: abre directamente la aplicación.
        <br>
        - VLC: abre el reproductor. Para verlo en VLC debes tener la aplicación de AceStream
        ejecutándose en tu equipo.
        <br><br>
        Recomendación: en el móvil, AceStream. En el ordenador, si AceStream te muestra muchos
        anuncios o tarda en cargar, prueba con VLC.
      </div>
    </li>
    <li class="canal" style="width: auto; text-align: left;">
      <h2>¿Cómo instalo VLC?</h2>
      <div class="hash">
        Abre este enlace oficial y descarga VLC para tu sistema:
        <a href="https://images.videolan.org/vlc/index.es.html" target="_blank">Descargar VLC</a>.
      </div>
    </li>
    <li class="canal" style="width: auto; text-align: left;">
      <h2>¿Cómo sé si AceStream está corriendo en Windows?</h2>
      <div class="hash">
        Tras abrir Ace Player, comprueba que aparece el icono de AceStream en la bandeja del sistema
        (abajo a la derecha, junto al reloj). Si no lo ves, expande los iconos ocultos con la flecha ^.
        <br>
        <img
          src="images/acestream_corriendo.png"
          alt="Icono de AceStream en la bandeja del sistema (Windows)"
          style="display:block; max-width:320px; width:100%; height:auto; margin:12px auto;"
        >
        <br>
        <p style="margin:8px 0 6px 0;">
          Pulsa el botón para saber si AceStream está funcionando ahora mismo en tu equipo.
          Si te sale en verde que “AceStream está funcionando”, todo está bien. Si sale en rojo que
          “AceStream no está funcionando”, abre Ace Player y vuelve a intentarlo.
        </p>
        <button class="boton" id="btn-check-acestream">Comprobar estado de AceStream</button>
        <div id="acestream-status" style="margin-top:10px; font-weight:bold;"></div>
      </div>
    </li>
  </ul>

  <script>
    (function(){
      const btn = document.getElementById('btn-check-acestream');
      const statusEl = document.getElementById('acestream-status');
      if (!btn || !statusEl) return;

      btn.addEventListener('click', async () => {
        const url = 'http://127.0.0.1:6878/webui/api/service?method=get_version';
        statusEl.textContent = 'Comprobando...';

        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), 3000);
        try {
          const res = await fetch(url, { signal: controller.signal });
          clearTimeout(timeoutId);

          const text = await res.text();
          let json;
          try { json = JSON.parse(text); } catch (_) { json = null; }

          if (res.ok && json && json.result && json.result.version) {
            statusEl.textContent = 'AceStream está funcionando';
            statusEl.style.color = '#2e7d32';
          } else {
            statusEl.textContent = 'AceStream no está funcionando';
            statusEl.style.color = '#c62828';
          }
        } catch (err) {
          statusEl.textContent = 'AceStream no está funcionando';
          statusEl.style.color = '#c62828';
        }
      });
    })();
  </script>

</body>
</html>

